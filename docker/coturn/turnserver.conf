# TURN server configuration for parakeet-rs WebRTC
# https://github.com/coturn/coturn

# Listening port for STUN/TURN
listening-port=3478
tls-listening-port=5349

# Use fingerprint in TURN messages
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Realm for authentication
realm=parakeet.local
server-name=parakeet.local

# Static user credentials (for development)
# In production, use database backend or OAuth
user=parakeet:parakeet123

# Relay port range
min-port=49152
max-port=65535

# External IP (overridden by docker-compose or env var)
# For WSL2/Docker, this should be the host's accessible IP
external-ip=127.0.0.1

# Log to stdout for Docker
log-file=stdout
verbose

# No TLS for local development
# Enable these in production with proper certificates
no-tls
no-dtls

# Allow localhost connections (for development)
# This allows relay to/from 127.0.0.1
no-loopback-peers
allow-loopback-peers

# Disable CLI (not needed in Docker)
no-cli

# Quota/limits
total-quota=100
user-quota=10
max-bps=0

# Stale-nonce period in seconds
stale-nonce=600

# Mobility (for mobile clients)
mobility
