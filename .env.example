# Parakeet-rs WebRTC Transcriber Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# Server Configuration
# =============================================================================

# HTTP/WebSocket server port
PORT=8080
GPU_PORT=8090

# Public IP address for WebRTC ICE candidates (for NAT traversal)
# This is used by WebRTC to establish peer-to-peer connections
# Examples:
#   - For local development: leave empty for auto-detection
#   - For cloud servers: use the server's public IP
#   - For Docker: use the host machine's public IP
PUBLIC_IP=

# WebSocket host for browser connection
# This is the host that browsers will use to connect to the WebSocket
# Priority: WS_HOST > PUBLIC_IP > auto-detected IP > localhost
# Examples:
#   - For local development: leave empty (uses localhost)
#   - For LAN access: WS_HOST=192.168.1.100
#   - For public domain: WS_HOST=transcribe.example.com
#   - For Docker: WS_HOST=<host-ip>
WS_HOST=

# =============================================================================
# GPU Configuration (for GPU docker-compose only)
# =============================================================================

# Enable GPU acceleration for inference
# Values: true, 1, cuda, tensorrt, rocm
# Requires: NVIDIA GPU with nvidia-docker2 installed
# Note: This is set automatically in docker-compose.gpu.yml
USE_GPU=

# ONNX Runtime thread configuration
# Lower values recommended for GPU (since inference happens on GPU)
# For CPU-only: INTRA_THREADS=4, INTER_THREADS=1
# For GPU: INTRA_THREADS=2, INTER_THREADS=1
INTRA_THREADS=
INTER_THREADS=

# =============================================================================
# Transcription Mode
# =============================================================================

# Enable speedy mode for lower latency transcription
# Set to "true" to enable (recommended), leave empty for default mode
SPEEDY_MODE=true

# =============================================================================
# Model Paths (usually don't need to change for Docker)
# =============================================================================

# Path to TDT model directory
TDT_MODEL_PATH=/app/models/tdt

# Path to diarization model (ONNX file)
DIAR_MODEL_PATH=/app/models/diarization/model.onnx

# Path to frontend directory
FRONTEND_PATH=/app/frontend

# =============================================================================
# TURN Server Configuration (for NAT traversal)
# =============================================================================

# TURN server URL
# Examples:
#   - turn:your-server.com:3478
#   - turns:your-server.com:443?transport=tcp
#   - turns:your-server.com:443?transport=udp
TURN_SERVER=

# TURN authentication credentials
TURN_USERNAME=
TURN_PASSWORD=

# =============================================================================
# Logging
# =============================================================================

# Log level: error, warn, info, debug, trace
RUST_LOG=info
